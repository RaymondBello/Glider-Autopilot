<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <!-- This page style -->
    <link rel="stylesheet" type="text/css" href="_examples_data/style.css" />
    <!-- Flight Indicators library styles -->
    <link rel="stylesheet" type="text/css" href="css/flightindicators.css" />
    <title>GCS PFD</title>
</head>
<body>
<div class="container">
    
    <!-- First example -->
    <h1><u>Ground Control Instruments</u></h1>

    <div class="scaled">
        <div>
            <span id="airspeed"></span>
            <span id="attitude"></span>
            <span id="altimeter"></span>            
        </div>
        <div>
            <span id="turn_coordinator"></span>
            <span id="heading"></span>
            <span id="variometer"></span>
        </div>
    </div>
</div>

<footer>
    Ray '20<br/>
    <a href="https://github.com/RaymondBello/Glider-Autopilot">Github Link</a>
</footer>

<!-- Importing jQuery library -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<!-- Importing the FlightIndicators library -->
<script src="js/jquery.flightindicators.js"></script>

<script type="text/javascript">
// First static example

// Dynamic examples
var attitude = $.flightIndicator('#attitude', 'attitude', {roll:50, pitch:-20, size:200, showBox : true});
var heading = $.flightIndicator('#heading', 'heading', {heading:150, showBox:true});
var variometer = $.flightIndicator('#variometer', 'variometer', {vario:-5, showBox:true});
var airspeed = $.flightIndicator('#airspeed', 'airspeed', {showBox: true});
var altimeter = $.flightIndicator('#altimeter', 'altimeter',{showBox:true});
var turn_coordinator = $.flightIndicator('#turn_coordinator', 'turn_coordinator', {turn:0, showBox:true});

// Update at 20Hz
var increment = 0;
setInterval(function() {
    // Airspeed update
    // airspeed.setAirSpeed(80);
    airspeed.setAirSpeed(80+80*Math.sin(increment/10));

    // Attitude update
    // attitude.setRoll(10);
    attitude.setRoll(30*Math.sin(increment/10));

    // attitude.setPitch(10);
    attitude.setPitch(50*Math.sin(increment/20));

    // Altimeter update
    // altimeter.setAltitude(100*10);
    altimeter.setAltitude(10*increment);

    // altimeter.setPressure(1000);
    altimeter.setPressure(1000+3*Math.sin(increment/50));
    increment++;
    
    // TC update - note that the TC appears opposite the angle of the attitude indicator, as it mirrors the actual wing up/down position
    turn_coordinator.setTurn((30*Math.sin(increment/10))*-1);

    // Heading update
    heading.setHeading(increment);
    
    // Vario update
    variometer.setVario(2*Math.sin(increment/10));
}, 50);
</script>
</body>
</html>